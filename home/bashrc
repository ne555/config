#
# ~/.bashrc
#

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

source "$HOME/.config/bash/alias"
source "$HOME/.config/bash/functions"
source "$HOME/.config/bash/history"
source "$HOME/.config/bash/prompt"

shopt -s checkwinsize

# custom ls colors
d=$HOME/.config/dircolors
test -r $d && eval "$(dircolors $d)"

# vi bindings
set -o vi

# ignore hidden files in bash completion
bind 'set match-hidden-files off'

#no blocking the screen with <C-s>
stty -ixon -ixoff

#start x at login
if [ "$(tty)" = "/dev/tty1" -o "$(tty)" = "/dev/vc/1" ]; then
	startx
fi

# ssh-keys git
if [ $(pgrep -u $USER ssh-agent | wc -l) -eq 0 ]; then
    ssh-agent -t 1h > "$XDG_RUNTIME_DIR/ssh-agent.env"
fi
if [[ ! $SSH_AUTH_SOCK ]]; then
    source "$XDG_RUNTIME_DIR/ssh-agent.env" >/dev/null
fi

# fzf
source /usr/share/fzf/completion.bash
source /usr/share/fzf/key-bindings.bash
source "$HOME/.config/fzf.config"
